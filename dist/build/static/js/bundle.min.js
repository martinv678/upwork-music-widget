!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t){(this["webpackJsonpup-work-interview-music-task"]=this["webpackJsonpup-work-interview-music-task"]||[]).push([[0],{123:function(e,t){},125:function(e,t){},172:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),l=n(65),o=n.n(l),i=n(3),u=n.n(i),c=n(66),s=n(68),d=n(67),m=n(16),p=n(45);function b(e,t){var n=e.find((function(e){return e.album===t.album}));return n?e.map((function(e){return e.album===n.album?Object(m.a)({},n,{tracks:[].concat(Object(p.a)(n.tracks),[t])}):e})):[].concat(Object(p.a)(e),[{album:t.album,tracks:[t]}])}function f(e){return Object(m.a)({},e,{tracks:e.tracks.sort((function(e,t){return e.track.no-t.track.no}))})}var y="@@uploaded-audio/fetch-results-error",v="@@uploaded-audio/fetch-results",g="@@uploaded-audio/fetch-results-success",h="@@uploaded-audio/select-album",E={error:"",results:[],loading:!1,selectedAlbumTitle:""};function k(e,t){switch(t.type){case v:return Object(m.a)({},e,{loading:!0,selectedAlbumTitle:""});case g:return Object(m.a)({},e,{loading:!1,results:t.payload});case h:return Object(m.a)({},e,{selectedAlbumTitle:t.payload});default:return e}}var w=Object(r.createContext)(void 0),x=Object(r.createContext)(void 0);function j(e){var t=e.children,n=Object(r.useReducer)(k,E),l=Object(s.a)(n,2),o=l[0],i=l[1];return a.a.createElement(w.Provider,{value:o},a.a.createElement(x.Provider,{value:i},t))}function O(){var e=Object(r.useContext)(w);if(!e)throw new Error("This method needs to be used within the UploadedAudioState provider");return e}function T(){var e=Object(r.useContext)(x);if(!e)throw new Error("This method needs to be used within the UploadedAudioDispatch provider");return e}var S={input:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},label:{background:"#5050e2",color:"white",padding:"15px 30px",display:"inline-block",marginBottom:20,borderRadius:5,fontSize:13,fontWeight:"bold"}};function P(){var e,t,n=(t=T(),e=Object(c.a)(u.a.mark((function e(n){var r,a,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:v}),r=Array.from(n.target.files).map((function(e){return d.parseBlob(e,{native:!0})})),e.prev=2,e.next=5,Promise.all(r);case 5:a=e.sent,l=a.map((function(e){return e.common})).reduce(b,[]).map(f),t({type:g,payload:l}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:y,message:""});case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),function(t){return e.apply(this,arguments)});return a.a.createElement("form",null,a.a.createElement("input",{style:S.input,type:"file",name:"file",id:"file",multiple:!0,onChange:n}),a.a.createElement("label",{htmlFor:"file",style:S.label},"Please select media"))}var M="#5050e2",C={root:{flex:3,padding:40,background:"rgb(21, 21, 21)"},list:{listStyleType:"none",padding:0,margin:0},item:{padding:15,color:"#bbbbbb"},title:{margin:0},heading:{marginTop:0},artist:{marginBottom:0,marginTop:3,fontSize:11,color:M}};function A(e){var t=e.album;return a.a.createElement("div",{style:C.root},t?a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{style:C.heading},t.album),a.a.createElement("ul",{style:C.list},t.tracks.map((function(e){return a.a.createElement("li",{key:e.title,style:C.item},a.a.createElement("p",{style:C.title},e.track.no,". ",e.title),a.a.createElement("p",{style:C.artist},e.artist))})))):a.a.createElement("p",null,"Please select an album to view"))}var B={root:{flex:1},list:{padding:0,listStyleType:"none"},button:{padding:"15px 30px",background:"transparent",color:"#bbbbbb",border:"none",borderRight:"2px solid black",width:"100%",fontFamily:'"Inter var", -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, sans-serif',textAlign:"left",fontSize:14,outline:"none",cursor:"pointer"},selected:{color:"white",fontWeight:"bold",borderRight:"4px solid ".concat(M)}};function F(e){var t=e.titles,n=e.onTitleClick,r=e.selected;return a.a.createElement("div",{style:B.root},a.a.createElement("ul",{style:B.list},t.map((function(e){return a.a.createElement("li",{key:e},a.a.createElement("button",{style:e===r?Object(m.a)({},B.button,{},B.selected):B.button,onClick:function(){return n(e)}},e))}))))}var _={root:{display:"flex"}};function z(){var e,t=T(),n=(e=O()).results.find((function(t){return t.album===e.selectedAlbumTitle})),l=O().results.map((function(e){return e.album})),o=!!O().results.length,i=Object(r.useCallback)((function(e){t({type:h,payload:e})}),[t]);return o?a.a.createElement("div",{style:_.root},a.a.createElement(F,{titles:l,onTitleClick:i,selected:n?n.album:""}),a.a.createElement(A,{album:n})):a.a.createElement("div",null,"Please start by uploading some of your banging tunez!"," ",a.a.createElement("span",{role:"img"},"ðŸ”¥"))}var H={root:{background:"black",padding:30,fontFamily:'"Inter var", -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, sans-serif',color:"white"},title:{marginTop:0}},I=document.getElementById("martins-test-widget");if(!I)throw new Error("Please provide an element to attach Martin's base widget too");o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement((function(){return a.a.createElement("main",{style:H.root},a.a.createElement(j,null,a.a.createElement("h1",{style:H.title},"Martin's Banging Music Widget"),a.a.createElement(P,null),a.a.createElement(z,null)))}),null)),I)},69:function(e,t,n){e.exports=n(172)}},[[69,1,2]]])}]);